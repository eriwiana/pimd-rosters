{% extends "base.html" %}

{% block content %}
<div class="grid place-content-center h-screen">
  {% if messages %}
    {% for message in messages %}
    <div class="w-max alert-del text-center mb-4 rounded-lg px-2 py-1 font-semibold {% if message.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}bg-emerald-400{% else %}bg-rose-400{% endif %}">
      <button type="button" class="close {% if message.tags %}{{ message.tags }}{% endif %}" data-dismiss="alert" aria-hidden="true">
        {{ message.message }} <i class="fas fa-circle-xmark"></i>
      </button>
    </div>
    {% endfor %}
  {% endif %}
  <div class="p-4 bg-white border-2 border-black rounded-lg shadow-[3px_3px_0px_1px_black]">
    <h2 class="text-2xl font-semibold mb-6">Login</h2>
    
    <div class="mb-4 mx-auto text-red-500 text-sm text-center place-content-center">
      <!-- Display form errors here -->
      {{ form.non_field_errors }}
    </div>

    <form method="post">
      {% csrf_token %}

      <div class="mb-4">
        <input type="text" placeholder="Username" name="{{ form.username.name }}" id="{{ form.username.id_for_label }}"
          class="outline-none w-full bg-gray-200/50 text-gray-500 px-2 py-1 leading-tight focus:outline-none focus:bg-white focus:text-black border-2 border-black rounded-lg shadow-[3px_3px_0px_1px_black]">
        <div class="text-red-500 text-sm">
          {{ form.username.errors }}
        </div>
      </div>

      <div class="mb-4">
        <input type="password" placeholder="Password" name="{{ form.password.name }}"
          id="{{ form.password.id_for_label }}"
          class="appearance-none block w-full bg-gray-200/50 text-gray-500 px-2 py-1 leading-tight focus:text-black focus:outline-none border-2 border-black rounded-lg shadow-[3px_3px_0px_1px_black]">
        <div class="text-red-500 text-sm">
          {{ form.password.errors }}
        </div>
      </div>

      <button name="login"
        class="w-max px-2 py-1 text-emerald-950 font-bold bg-emerald-400 hover:bg-cyan-400 cursor-pointer border-2 border-black rounded-lg shadow-[3px_3px_0px_1px_black]">
        Login
      </button>
      <span class="ml-4"><a href="{% url 'register' %}"
        class="hover:underline hover:decoration-yellow-400">Register here!</a></span>
    </form>
  </div>

  <small class="flex flex-row gap-2 my-4 place-content-center">
    {#<a href="https://buymeacoffee.com/moelder" target="_blank" class="px-2 py-1 bg-yellow-400 hover:bg-emerald-400 border border-black rounded-lg shadow-[3px_3px_0px_1px_black]"><i class="fas fa-mug-hot"></i> Buy me a coffee</a>#}
    <div class="px-2 py-1 bg-rose-200 cursor-default w-max rounded-lg border border-black rounded-lg shadow-[3px_3px_0px_1px_black]">Crafted with <i class="fas fa-heart hover:text-pink-600"></i> by moel</div>
  </small>
</div>
{% endblock %}